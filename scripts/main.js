!function(a,b){"use strict";var c=a(b),d=c.height(),e=c.width(),f=a("html, body"),g=a("#top-bar"),h=g.find("#top-nav"),i=g.find("#top-nav, #social-bar"),j=g.find("#nav-toggle"),k=a("#to-top"),l=a("#down"),m=a("#form1"),n=a("#pictosholder"),o=a("#projects-filter"),p=a("#filter-toggle"),q=o.find("li"),r=h.find("#active"),s=a("[data-anim]"),t=[],u=[],v=h.find("[data-target]"),w=[],x=!0,y={offset:150,top:0,navTargetPos:[],addPos:function(b){y.navTargetPos=[],a.each(b,function(a,b){b&&(y[b[0].id]=Math.round(b.offset().top-y.offset),y.navTargetPos.push(Math.round(b.offset().top-y.offset)))}),K()}},z=function(a,b){var c;return function(){var d=this,e=arguments,f=function(){c=null,a.apply(d,e)},g=!c;clearTimeout(c),c=setTimeout(f,b),g&&a.apply(d,e)}},A=function(){return v.each(function(){var b=a(this);u.push(b),w.push("top"!==b.data("target")?a("#"+b.data("target")):0)}),y.addPos(w),function(){v.on({mouseenter:E,mouseleave:F,click:G})}()},B=function(b){var c=[];return s.each(function(){var d=a(this);c.push({elm:d,elmTop:Math.round(d.offset().top),elmBottom:Math.round(d.height()+d.offset().top),elmAnim:d.data("anim")}),d.addClass(b?"animated invisible":"animated")}),c},C=function(a,b){var c=a.elm,e=!0,f=80,g=c.height()/100*f,h=b,i=d+h,j=a.elmTop+g,k=a.elmBottom-g;i>k&&j>h?c.hasClass(a.elmAnim)||c.addClass(a.elmAnim).removeClass("invisible"):e&&c.hasClass(a.elmAnim)&&c.addClass("invisible").removeClass(a.elmAnim)},D=function(b){var c=a(this).is(j)?i:q;c.slideToggle(500),b.preventDefault()},E=function(){var b=a(this).next().position().left;r.stop().clearQueue().animate({left:b+"px"})},F=function(){if(x){var a=v.filter(".active").next().position().left;r.delay(200).animate({left:a+"px"})}},G=function(b){var c=a(this);768>e&&"top"!==c.data("target")&&H(),v.filter(".active").removeClass("active"),J(y[c.data("target")]+5),b.preventDefault()},H=function(){g.hasClass("sticky")||g.hide().addClass("sticky").slideDown(500,function(){g.removeAttr("style")}),k.slideDown(500)},I=function(a){a&&!a.hasClass("active")&&(v.filter(".active").removeClass("active"),a.addClass("active"),r.animate({left:a.next().position().left}))},J=function(a){x=!1,f.animate({scrollTop:a},1e3,function(){x=!0,K()})},K=function(){var b=c.scrollTop(),d=y.navTargetPos;if(b>=y.offset)if(H(),b<d[0])I(u[0]);else if(b>d[d.length-1])I(u[d.length]);else for(var e=1,f=d.length;f>=e;e++)d[e]&&b>d[e-1]&&b<d[e]&&I(u[e]);else g.removeClass("sticky"),k.removeAttr("style"),I(u[0]);a.each(t,function(a,c){C(c,b)})},L=function(){return d=c.height(),e=c.width(),y.addPos(w),i.removeAttr("style"),q.removeAttr("style"),t=B(),K()},M=function(){var b=a(this);if(!b.hasClass("active")){var c=b.attr("id").split("-")[1];return o.find(".active").removeClass("active"),b.addClass("active"),a(".project-listing").each(function(){var b=a(this);"all"===c||b.data("category")===c?b.fadeIn(1e3):b.hide()}),L()}},N=function(){n.toggleClass("pre-accident")},O=function(){var a=n.parent();n.off("mouseover").addClass("accident").removeClass("pre-accident"),a.css({transition:"all .6s .5s ease-in-out",transform:"translate3d(-5%, "+(d-n.offset().top-18)+"px, 0) rotate(0)"}),l.addClass("arrbounce").css({transform:"translate3d(0, -"+a.height()+"px, 0)"}),setTimeout(function(){l.removeClass("arrbounce")},2500)},P=function(){return a.ajax({type:"POST",url:"https://yaziris.wufoo.com/forms/zgq58i40yz45t0/",data:m.serialize(),crossDomain:!0,timeout:5e3,complete:function(){m.find("[type=submit]").replaceWith('<h4 style="margin:auto 13%">Thank you, I\'ll get in touch with you as soon as possible.</h4>')}}),!1};return function(){c.on("load",function(){m.find("textarea").removeAttr("placeholder"),m.find(":disabled").removeAttr("disabled"),t=B(!0),A()}),j.on("click",D),p.on("click",D),k.on("click",G),l.on("click",G),o.on("click","button",M),c.on("resize",z(L,500)),c.on("scroll",function(){x&&K()}),n.one("click",O),n.on("mouseover",N),m.on("submit",P)}()}(jQuery,window);